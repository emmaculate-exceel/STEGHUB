# Preparing the NFS server


#### preparing my instance for the
---




---

+ Create volumes for the instance

+ Create mount points for the instance

+ Installing the nfs server for the instance

+ Starting nfs-server
```
sudo yum -y update
sudo yum install nfs-utils -y
sudo systemctl start nfs-server.service
sudo systemctl enable nfs-server.service
sudo systemctl status nfs-server.service

```

---





---

+ export mount point for the server

+ Change user permissions for the dir

+ Change Owner permissions for the dir

```
sudo chown -R nobody: /mnt/apps
sudo chown -R nobody: /mnt/logs
sudo chown -R nobody: /mnt/opt

sudo chmod -R 777 /mnt/apps
sudo chmod -R 777 /mnt/logs
sudo chmod -R 777 /mnt/opt

sudo systemctl restart nfs-server.service
```

---



---

+ Configure access to NFS Client

```

sudo vi /etc/exports

/mnt/apps <Subnet-CIDR>(rw,sync,no_all_squash,no_root_squash)
/mnt/logs <Subnet-CIDR>(rw,sync,no_all_squash,no_root_squash)
/mnt/opt <Subnet-CIDR>(rw,sync,no_all_squash,no_root_squash)

Esc + :wq!

sudo exportfs -arv
```
---



---

+ Check the port

```
rpcinfo -p | grep nfs
```